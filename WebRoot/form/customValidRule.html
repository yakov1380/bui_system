<!DOCTYPE HTML>
<html>
<head>
	<meta charset="UTF-8">
	<title>自定义验证规则</title>
	<link href="../assets/css/bs3/dpl.css" rel="stylesheet" type="text/css" />
	<link href="../assets/css/bs3/bui.css" rel="stylesheet" type="text/css" />
	<link href="../assets/css/page-min.css" rel="stylesheet" type="text/css" />
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="span16">
				<h2>自定义验证规则</h2>
				<form class="well" id="J_Form">
					<div>
						<label>学生编号：</label>
						<input data-rules="{required:true, sid:5}" type="text">
					</div>
				</form>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="../assets/js/jquery-2.1.1.min.js"></script>
	<script type="text/javascript" src="../assets/js/bui-min.js"></script>
	<script type="text/javascript" src="../assets/js/config-min.js"></script>
	<script type="text/javascript">
		BUI.use('common/page');
		BUI.use('bui/form', function(Form) {
			// 自定义验证规则
			Form.Rules.add({
				name : 'sid',
				msg : '请填写{0}数字的学生编号。',
				validator : function(value, baseValue, formatMsg) {
					var regexp = new RegExp('^\\d{' + baseValue + '}$');
					if (value && !regexp.test(value)) {
						return formatMsg;
					}
				}
			});

			new Form.Form({
				srcNode : '#J_Form'
			}).render();
		});
	</script>
<body>
</html>
